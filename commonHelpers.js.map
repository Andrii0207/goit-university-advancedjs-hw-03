{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY = 'live_5by06OFwHheRUp9VstzvBimzl4BKirSYssLaw602WJRBzfwsIyF76sXRpAIxqc7F';\n\naxios.defaults.headers.common[\"x-api-key\"] = API_KEY;\n\n\nconst instance = axios.create({\n    baseURL: BASE_URL,\n})\n\n// const searchParams = new URLSearchParams({\n//     order: ASC,\n// })\n\nfunction fetchBreeds() {\n    // return fetch(`${BASE_URL}/breeds`)\n    return instance.get('/breeds')\n}\n\nfunction fetchCatByBreed(breedId) {\n    // return fetch(`${BASE_URL}/images/search?breed_ids=${breedId}&api_key=${API_KEY}`)\n    return instance.get('images/search', {\n        params: {\n            breed_ids: breedId\n        }\n    })\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api.js\"\nimport iziToast from 'izitoast'\n\nconst refs = {\n    select: document.querySelector('.breed-select'),\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    catInfo: document.querySelector('.cat-info'),\n\n}\n\n// refs.loader.style.display = \"none\";\nrefs.error.style.display = \"none\";\n\nrefs.select.addEventListener(\"change\", onChangeSelect)\n\n\n\nfetchBreeds()\n    .then(({ data }) => {\n        // refs.loader.style.display = \"block\";\n        refs.select.insertAdjacentHTML('beforeend', createSelectData(data))\n    })\n    .catch(err => {\n        iziToast.error({\n            title: 'Error',\n            message: `Oops! Something went wrong! Try reloading the page! ${err}`,\n            timeout: 2000,\n            position: topCenter,\n        })\n        // return refs.error.style.display = \"block\"\n    })\n    .finally(() => {\n        refs.loader.style.display = \"none\";\n        // refs.error.style.display = \"none\";\n    })\n\nfunction createSelectData(data) {\n    console.log(\"DATA >>>\", data)\n    return data.map(({ id, name }) => `<option value=${id}>${name}</option>`).join('')\n}\n\nfunction onChangeSelect(evt) {\n    const selectedBreed = evt.target.value\n    fetchCatByBreed(selectedBreed)\n        .then(dataBreed => createMarkup(dataBreed))\n        .catch(err => console.log(err))\n}\n\nfunction createMarkup(data) {\n\n    const { name, description, temperament } = data.data[0].breeds[0]\n    const { url } = data.data[0]\n\n    const markupCatInfo = `<div class=\"wrapper-card\">\n      <img class=\"image-cat\" src=\"${url}\" alt=\"${name}\" width=\"600\" />\n      <div class=\"wrapper-info\">\n        <h2 class=\"name-cat\">${name}</h2>\n        <p class=\"description-cat\">${description}</p>\n        <p class=\"temperament-cat\"><b>Temperament:</b> ${temperament}</p>\n      </div>\n    </div>`\n\n    refs.catInfo.innerHTML = markupCatInfo;\n}\n"],"names":["BASE_URL","API_KEY","axios","instance","fetchBreeds","fetchCatByBreed","breedId","refs","onChangeSelect","data","createSelectData","err","iziToast","id","name","evt","selectedBreed","dataBreed","createMarkup","description","temperament","url","markupCatInfo"],"mappings":"6vBAEA,MAAMA,EAAW,+BACXC,EAAU,wEAEhBC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAG7C,MAAME,EAAWD,EAAM,OAAO,CAC1B,QAASF,CACb,CAAC,EAMD,SAASI,GAAc,CAEnB,OAAOD,EAAS,IAAI,SAAS,CACjC,CAEA,SAASE,EAAgBC,EAAS,CAE9B,OAAOH,EAAS,IAAI,gBAAiB,CACjC,OAAQ,CACJ,UAAWG,CACd,CACT,CAAK,CACL,CCzBA,MAAMC,EAAO,CACT,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,EACtC,QAAS,SAAS,cAAc,WAAW,CAE/C,EAGAA,EAAK,MAAM,MAAM,QAAU,OAE3BA,EAAK,OAAO,iBAAiB,SAAUC,CAAc,EAIrDJ,EAAa,EACR,KAAK,CAAC,CAAE,KAAAK,KAAW,CAEhBF,EAAK,OAAO,mBAAmB,YAAaG,EAAiBD,CAAI,CAAC,CAC1E,CAAK,EACA,MAAME,GAAO,CACVC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,uDAAuDD,IAChE,QAAS,IACT,SAAU,SACtB,CAAS,CAET,CAAK,EACA,QAAQ,IAAM,CACXJ,EAAK,OAAO,MAAM,QAAU,MAEpC,CAAK,EAEL,SAASG,EAAiBD,EAAM,CAC5B,eAAQ,IAAI,WAAYA,CAAI,EACrBA,EAAK,IAAI,CAAC,CAAE,GAAAI,EAAI,KAAAC,CAAM,IAAK,iBAAiBD,KAAMC,YAAe,EAAE,KAAK,EAAE,CACrF,CAEA,SAASN,EAAeO,EAAK,CACzB,MAAMC,EAAgBD,EAAI,OAAO,MACjCV,EAAgBW,CAAa,EACxB,KAAKC,GAAaC,EAAaD,CAAS,CAAC,EACzC,MAAMN,GAAO,QAAQ,IAAIA,CAAG,CAAC,CACtC,CAEA,SAASO,EAAaT,EAAM,CAExB,KAAM,CAAE,KAAAK,EAAM,YAAAK,EAAa,YAAAC,CAAa,EAAGX,EAAK,KAAK,GAAG,OAAO,GACzD,CAAE,IAAAY,CAAK,EAAGZ,EAAK,KAAK,GAEpBa,EAAgB;AAAA,oCACUD,WAAaP;AAAA;AAAA,+BAElBA;AAAA,qCACMK;AAAA,yDACoBC;AAAA;AAAA,YAIrDb,EAAK,QAAQ,UAAYe,CAC7B"}